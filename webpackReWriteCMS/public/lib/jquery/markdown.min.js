/**
 * Created by wuyunge on 2015/1/31.
 */
"use strict";
+function (e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? e(require("jquery")) : e(jQuery)
}(function (e) {
    var t, i = {
            get: function (e) {
                return n[t].get.apply(this, [e])
            },
            set: function (e, i) {
                var r, a = parseInt(e),
                    s = parseInt(i);
                return e === void 0 ? a = 0 : 0 > e && (a = this.val().length + a), r = i === void 0 ? this.val().length : i >= 0 ? a + s : this.val().length + s, n[t].set.apply(this, [a, r]), this
            },
            setcursor: function (e) {
                return this.textrange("set", e, 0)
            },
            replace: function (e) {
                return n[t].replace.apply(this, [String(e)]), this
            },
            insert: function (e) {
                return this.textrange("replace", e)
            }
        },
        n = {
            xul: {
                get: function (e) {
                    var t = {
                        position: this[0].selectionStart,
                        start: this[0].selectionStart,
                        end: this[0].selectionEnd,
                        length: this[0].selectionEnd - this[0].selectionStart,
                        text: this.val().substring(this[0].selectionStart, this[0].selectionEnd)
                    };
                    return e === void 0 ? t : t[e]
                },
                set: function (e, t) {
                    this[0].selectionStart = e, this[0].selectionEnd = t
                },
                replace: function (e) {
                    var t = this[0].selectionStart,
                        i = this[0].selectionEnd,
                        n = this.val();
                    this.val(n.substring(0, t) + e + n.substring(i, n.length)), this[0].selectionStart = t, this[0].selectionEnd = t + e.length
                }
            },
            msie: {
                get: function (e) {
                    var t = document.selection.createRange();
                    if (t === void 0) {
                        var i = {
                            position: 0,
                            start: 0,
                            end: this.val().length,
                            length: this.val().length,
                            text: this.val()
                        };
                        return e === void 0 ? i : i[e]
                    }
                    var n = this[0].createTextRange(),
                        a = n.duplicate();
                    n.moveToBookmark(t.getBookmark()), a.setEndPoint("EndToStart", n);
                    var i = {
                        position: a.text.length,
                        start: a.text.length,
                        end: a.text.length + t.text.length,
                        length: t.text.length,
                        text: t.text
                    };
                    return e === void 0 ? i : i[e]
                },
                set: function (e, t) {
                    var i = this[0].createTextRange();
                    return i === void 0 ? this : (e !== void 0 && (i.moveStart("character", e), i.collapse()), t !== void 0 && i.moveEnd("character", t - e), i.select(), void 0)
                },
                replace: function (e) {
                    document.selection.createRange().text = e
                }
            }
        };
    e.fn.textrange = function (n) {
        return this[0] === void 0 ? this : (t === void 0 && (t = "selectionStart" in this[0] ? "xul" : document.selection ? "msie" : "unknown"), "unknown" === t ? this : (document.activeElement !== this[0] && this[0].focus(), n === void 0 || "string" != typeof n ? i.get.apply(this) : "function" == typeof i[n] ? i[n].apply(this, Array.prototype.slice.call(arguments, 1)) : (e.error("Method " + n + " does not exist in jQuery.textrange"), void 0)))
    }
});

var Markdown;
Markdown = "object" == typeof exports && "function" == typeof require ? exports : {},
    function () {
        function e(e) {
            return e
        }

        function t() {
            return !1
        }

        function i() {
        }

        function n() {
        }

        i.prototype = {
            chain: function (t, i) {
                var n = this[t];
                if (!n) throw new Error("unknown hook " + t);
                this[t] = n === e ? i : function () {
                    var t = Array.prototype.slice.call(arguments, 0);
                    return t[0] = n.apply(null, t), i.apply(null, t)
                }
            },
            set: function (e, t) {
                if (!this[e]) throw new Error("unknown hook " + e);
                this[e] = t
            },
            addNoop: function (t) {
                this[t] = e
            },
            addFalse: function (e) {
                this[e] = t
            }
        }, Markdown.HookCollection = i, n.prototype = {
            set: function (e, t) {
                this["s_" + e] = t
            },
            get: function (e) {
                return this["s_" + e]
            }
        }, Markdown.Converter = function (t) {
            function u(e) {
                return e = e.replace(/^[ ]{0,3}\[([^\[\]]+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm, function (e, t, i, n, a, o) {
                    return t = t.toLowerCase(), s.set(t, P(i)), a ? n : (o && r.set(t, o.replace(/"/g, "&quot;")), "")
                })
            }

            function p(e) {
                return e = e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm, h), e = e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm, h), e = e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g, h), e = e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g, h), e = e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g, h)
            }

            function f(e) {
                return e = e.replace(/(^\n+|\n+$)/g, ""), "\n\n~K" + (o.push(e) - 1) + "K\n\n"
            }

            function h(e, t) {
                return f(t)
            }

            function _(e, t) {
                e = a.preBlockGamut(e, m), e = x(e);
                var i = "<hr />\n";
                return e = e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm, i), e = e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm, i), e = e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm, i), e = $(e), e = D(e), e = M(e), e = a.postBlockGamut(e, m), e = p(e), e = A(e, t)
            }

            function g(e) {
                return e = a.preSpanGamut(e), e = E(e), e = v(e), e = F(e), e = w(e), e = b(e), e = R(e), e = e.replace(/~P/g, "://"), e = P(e), e = z(e), e = e.replace(/  +\n/g, " <br>\n"), e = a.postSpanGamut(e)
            }

            function v(e) {
                var t = /(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;
                return e = e.replace(t, function (e) {
                    var t = e.replace(/(.)<\/?code>(?=.)/g, "$1`");
                    return t = V(t, "!" == e.charAt(1) ? "\\`*_/" : "\\`*_")
                })
            }

            function b(e) {
                return e = e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, y), e = e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, y), e = e.replace(/(\[([^\[\]]+)\])()()()()()/g, y)
            }

            function y(e, t, i, n, a, o, l, c) {
                void 0 == c && (c = "");
                var d = t,
                    u = i.replace(/:\/\//g, "~P"),
                    p = n.toLowerCase(),
                    f = a,
                    h = c;
                if ("" == f)
                    if ("" == p && (p = u.toLowerCase().replace(/ ?\n/g, " ")), f = "#" + p, void 0 != s.get(p)) f = s.get(p), void 0 != r.get(p) && (h = r.get(p));
                    else {
                        if (!(d.search(/\(\s*\)$/m) > -1)) return d;
                        f = ""
                    }
                f = U(f), f = V(f, "*_");
                var m = '<a href="' + f + '"';
                return "" != h && (h = k(h), h = V(h, "*_"), m += ' title="' + h + '"'), m += ">" + u + "</a>"
            }

            function w(e) {
                return e = e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g, j), e = e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g, j)
            }

            function k(e) {
                return e.replace(/>/g, "&gt;").replace(/</g, "&lt;").replace(/"/g, "&quot;")
            }

            function j(e, t, i, n, a, o, l, c) {
                var d = t,
                    u = i,
                    p = n.toLowerCase(),
                    f = a,
                    h = c;
                if (h || (h = ""), "" == f) {
                    if ("" == p && (p = u.toLowerCase().replace(/ ?\n/g, " ")), f = "#" + p, void 0 == s.get(p)) return d;
                    f = s.get(p), void 0 != r.get(p) && (h = r.get(p))
                }
                u = V(k(u), "*_[]()"), f = V(f, "*_");
                var m = '<img src="' + f + '" alt="' + u + '"';
                return h = k(h), h = V(h, "*_"), m += ' title="' + h + '"', m += " />"
            }

            function x(e) {
                return e = e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm, function (e, t) {
                    return "<h1>" + g(t) + "</h1>\n\n"
                }), e = e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm, function (e, t) {
                    return "<h2>" + g(t) + "</h2>\n\n"
                }), e = e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm, function (e, t, i) {
                    var n = t.length;
                    return "<h" + n + ">" + g(i) + "</h" + n + ">\n\n"
                })
            }

            function $(e, t) {
                e += "~0";
                var i = /^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;
                return l ? e = e.replace(i, function (e, i, n) {
                    var a = i,
                        s = n.search(/[*+-]/g) > -1 ? "ul" : "ol",
                        r = S(a, s, t);
                    return r = r.replace(/\s+$/, ""), r = "<" + s + ">" + r + "</" + s + ">\n"
                }) : (i = /(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g, e = e.replace(i, function (e, t, i, n) {
                    var a = t,
                        s = i,
                        r = n.search(/[*+-]/g) > -1 ? "ul" : "ol",
                        o = S(s, r);
                    return o = a + "<" + r + ">\n" + o + "</" + r + ">\n"
                })), e = e.replace(/~0/, "")
            }

            function S(e, t, i) {
                l++, e = e.replace(/\n{2,}$/, "\n"), e += "~0";
                var n = C[t],
                    a = new RegExp("(^[ \\t]*)(" + n + ")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1(" + n + ")[ \\t]+))", "gm"),
                    s = !1;
                return e = e.replace(a, function (e, t, n, a) {
                    var r = a,
                        l = /\n\n$/.test(r),
                        c = l || r.search(/\n{2,}/) > -1;
                    return c || s ? r = _(W(r), !0) : (r = $(W(r), !0), r = r.replace(/\n$/, ""), i || (r = g(r))), s = l, "<li>" + r + "</li>\n"
                }), e = e.replace(/~0/g, ""), l--, e
            }

            function D(e) {
                return e += "~0", e = e.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g, function (e, t, i) {
                    var n = t,
                        a = i;
                    return n = T(W(n)), n = B(n), n = n.replace(/^\n+/g, ""), n = n.replace(/\n+$/g, ""), n = "<pre><code>" + n + "\n</code></pre>", "\n\n" + n + "\n\n" + a
                }), e = e.replace(/~0/, "")
            }

            function E(e) {
                return e = e.replace(/(^|[^\\`])(`+)(?!`)([^\r]*?[^`])\2(?!`)/gm, function (e, t, i, n) {
                    var s = n;
                    return s = s.replace(/^([ \t]*)/g, ""), s = s.replace(/[ \t]*$/g, ""), s = T(s), s = s.replace(/:\/\//g, "~P"), t + "<code>" + s + "</code>"
                })
            }

            function T(e) {
                return e = e.replace(/&/g, "&amp;"), e = e.replace(/</g, "&lt;"), e = e.replace(/>/g, "&gt;"), e = V(e, "*_{}[]\\", !1)
            }

            function z(e) {
                return e = c(e), e = e.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)\2(?=\S)([^\r]*?\S)\2\2(?!\2)(?=[\W_]|$)/g, "$1<strong>$3</strong>"), e = e.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)(?=\S)((?:(?!\2)[^\r])*?\S)\2(?!\2)(?=[\W_]|$)/g, "$1<em>$3</em>"), d(e)
            }

            function M(e) {
                return e = e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm, function (e, t) {
                    var i = t;
                    return i = i.replace(/^[ \t]*>[ \t]?/gm, "~0"), i = i.replace(/~0/g, ""), i = i.replace(/^[ \t]+$/gm, ""), i = _(i), i = i.replace(/(^|\n)/g, "$1  "), i = i.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm, function (e, t) {
                        var i = t;
                        return i = i.replace(/^  /gm, "~0"), i = i.replace(/~0/g, "")
                    }), f("<blockquote>\n" + i + "\n</blockquote>")
                })
            }

            function A(e, t) {
                e = e.replace(/^\n+/g, ""), e = e.replace(/\n+$/g, "");
                for (var i = e.split(/\n{2,}/g), n = [], a = /~K(\d+)K/, s = i.length, r = 0; s > r; r++) {
                    var l = i[r];
                    a.test(l) ? n.push(l) : /\S/.test(l) && (l = g(l), l = l.replace(/^([ \t]*)/g, "<p>"), l += "</p>", n.push(l))
                }
                if (!t) {
                    s = n.length;
                    for (var r = 0; s > r; r++)
                        for (var c = !0; c;) c = !1, n[r] = n[r].replace(/~K(\d+)K/g, function (e, t) {
                            return c = !0, o[t]
                        })
                }
                return n.join("\n\n")
            }

            function P(e) {
                return e = e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g, "&amp;"), e = e.replace(/<(?![a-z\/?!]|~D)/gi, "&lt;")
            }

            function F(e) {
                return e = e.replace(/\\(\\)/g, X), e = e.replace(/\\([`*_{}\[\]()>#+-.!])/g, X)
            }

            function H(e, t, i, n) {
                if (t) return e;
                if (")" !== n.charAt(n.length - 1)) return "<" + i + n + ">";
                for (var a = n.match(/[()]/g), s = 0, r = 0; a.length > r; r++) "(" === a[r] ? 0 >= s ? s = 1 : s++ : s--;
                var o = "";
                if (0 > s) {
                    var l = new RegExp("\\){1," + -s + "}$");
                    n = n.replace(l, function (e) {
                        return o = e, ""
                    })
                }
                if (o) {
                    var c = n.charAt(n.length - 1);
                    L.test(c) || (o = c + o, n = n.substr(0, n.length - 1))
                }
                return "<" + i + n + ">" + o
            }

            function R(e) {
                e = e.replace(N, H);
                var t = function (e, t) {
                    var i = U(t);
                    return i = V(i, "*_"), '<a href="' + i + '">' + a.plainLinkText(t) + "</a>"
                };
                return e = e.replace(/<((https?|ftp):[^'">\s]+)>/gi, t)
            }

            function q(e) {
                return e = e.replace(/~E(\d+)E/g, function (e, t) {
                    var i = parseInt(t);
                    return String.fromCharCode(i)
                })
            }

            function W(e) {
                return e = e.replace(/^(\t|[ ]{1,4})/gm, "~0"), e = e.replace(/~0/g, "")
            }

            function B(e) {
                if (!/\t/.test(e)) return e;
                var n, t = ["    ", "   ", "  ", " "],
                    i = 0;
                return e.replace(/[\n\t]/g, function (e, a) {
                    return "\n" === e ? (i = a + 1, e) : (n = (a - i) % 4, i = a + 1, t[n])
                })
            }

            function U(e) {
                if (!e) return "";
                var t = e.length;
                return e.replace(Y, function (i, n) {
                    return "~D" == i ? "%24" : ":" != i || n != t - 1 && !/[0-9\/]/.test(e.charAt(n + 1)) ? "%" + i.charCodeAt(0).toString(16) : ":"
                })
            }

            function V(e, t, i) {
                var n = "([" + t.replace(/([\[\]\\])/g, "\\$1") + "])";
                i && (n = "\\\\" + n);
                var a = new RegExp(n, "g");
                return e = e.replace(a, X)
            }

            function X(e, t) {
                var i = t.charCodeAt(0);
                return "~E" + i + "E"
            }

            var a = this.hooks = new i;
            a.addNoop("plainLinkText"), a.addNoop("preConversion"), a.addNoop("postNormalization"), a.addNoop("preBlockGamut"), a.addNoop("postBlockGamut"), a.addNoop("preSpanGamut"), a.addNoop("postSpanGamut"), a.addNoop("postConversion");
            var s, r, o, l;
            t = t || {};
            var c = e,
                d = e;
            t.nonAsciiLetters && function () {
                var e = /[Q\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua67f-\ua697\ua717-\ua71f\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/g,
                    t = "Q".charCodeAt(0),
                    i = "A".charCodeAt(0),
                    n = "Z".charCodeAt(0),
                    a = "a".charCodeAt(0) - n - 1;
                c = function (s) {
                    return s.replace(e, function (e) {
                        for (var o, s = e.charCodeAt(0), r = ""; s > 0;) o = s % 51 + i, o >= t && o++, o > n && (o += a), r = String.fromCharCode(o) + r, s = 0 | s / 51;
                        return "Q" + r + "Q"
                    })
                }, d = function (e) {
                    return e.replace(/Q([A-PR-Za-z]{1,3})Q/g, function (e, s) {
                        for (var o, r = 0, l = 0; s.length > l; l++) o = s.charCodeAt(l), o > n && (o -= a), o > t && o--, o -= i, r = 51 * r + o;
                        return String.fromCharCode(r)
                    })
                }
            }(), this.makeHtml = function (e) {
                if (s) throw new Error("Recursive call to converter.makeHtml");
                return s = new n, r = new n, o = [], l = 0, e = a.preConversion(e), e = e.replace(/~/g, "~T"), e = e.replace(/\$/g, "~D"), e = e.replace(/\r\n/g, "\n"), e = e.replace(/\r/g, "\n"), e = "\n\n" + e + "\n\n", e = B(e), e = e.replace(/^[ \t]+$/gm, ""), e = a.postNormalization(e), e = p(e), e = u(e), e = _(e), e = q(e), e = e.replace(/~D/g, "$$"), e = e.replace(/~T/g, "~"), e = a.postConversion(e), o = r = s = null, e
            };
            var m = function (e) {
                    return _(e)
                },
                C = {
                    ol: "\\d+[.]",
                    ul: "[*+-]"
                },
                I = "[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]",
                O = "[-A-Z0-9+&@#/%=~_|[\\])]",
                N = new RegExp('(="|<)?\\b(https?|ftp)(://' + I + "*" + O + ")(?=$|\\W)", "gi"),
                L = new RegExp(O, "i"),
                Y = /(?:["'*()[\]:]|~D)/g
        }
    }(),
    function () {
        function i(e) {
            return e.replace(/<[^>]*>?/gi, r)
        }

        function r(e) {
            return e.match(n) || e.match(a) || e.match(s) ? e : ""
        }

        function o(e) {
            if ("" == e) return "";
            var t = /<\/?\w+[^>]*(\s|$|>)/g,
                i = e.toLowerCase().match(t),
                n = (i || []).length;
            if (0 == n) return e;
            for (var a, s, o, r = "<p><img><br><li><hr>", l = [], c = [], d = !1, u = 0; n > u; u++)
                if (a = i[u].replace(/<\/?(\w+).*/, "$1"), !(l[u] || r.search("<" + a + ">") > -1)) {
                    if (s = i[u], o = -1, !/^<\//.test(s))
                        for (var p = u + 1; n > p; p++)
                            if (!l[p] && i[p] == "</" + a + ">") {
                                o = p;
                                break
                            }
                    -1 == o ? d = c[u] = !0 : l[o] = !0
                }
            if (!d) return e;
            var u = 0;
            return e = e.replace(t, function (e) {
                var t = c[u] ? "" : e;
                return u++, t
            })
        }

        var e, t;
        "object" == typeof exports && "function" == typeof require ? (e = exports, t = require("./Markdown.Converter").Converter) : (e = window.Markdown, t = e.Converter), e.getSanitizingConverter = function () {
            var e = new t;
            return e.hooks.chain("postConversion", i), e.hooks.chain("postConversion", o), e
        };
        var n = /^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,
            a = /^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,
            s = /^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i
    }(),
    function () {
        function t(e) {
            return e.replace(/^\s+|\s+$/g, "")
        }

        function i(e) {
            return e.replace(/\s+$/g, "")
        }

        function n(e) {
            return e.replace(new RegExp("^(\\t|[ ]{1,4})", "gm"), "")
        }

        function a(e, t) {
            return -1 != e.indexOf(t)
        }

        function s(e, t) {
            return e.replace(/<[^>]*>?/gi, function (e) {
                return e.match(t) ? e : ""
            })
        }

        function r(e, t) {
            for (var i = {}, n = 0; e.length > n; n++) i[e[n]] = e[n];
            for (n = 0; t.length > n; n++) i[t[n]] = t[n];
            var a = [];
            for (var s in i) i.hasOwnProperty(s) && a.push(i[s]);
            return a
        }

        function o(e) {
            return "" != e.charAt(0) && (e = "" + e), "" != e.charAt(e.length - 1) && (e += ""), e
        }

        function l(e) {
            return "" == e.charAt(0) && (e = e.substr(1)), "" == e.charAt(e.length - 1) && (e = e.substr(0, e.length - 1)), e
        }

        function c(t, i) {
            return s(d(t, i), e)
        }

        function d(e, t) {
            var i = t.blockGamutHookCallback(e);
            return i = f(i), i = i.replace(/~D/g, "$$").replace(/~T/g, "~"), i = t.previousPostConversion(i)
        }

        function u(e) {
            return e.replace(/\\\|/g, "~I").replace(/\\:/g, "~i")
        }

        function p(e) {
            return e.replace(/~I/g, "|").replace(/~i/g, ":")
        }

        function f(e) {
            return e = e.replace(/~E(\d+)E/g, function (e, t) {
                var i = parseInt(t);
                return String.fromCharCode(i)
            })
        }

        function h(e) {
            return e.toLowerCase().replace(/\s+/g, "-").replace(/[^\w\-]+/g, "").replace(/\-\-+/g, "-").replace(/^-+/, "").replace(/-+$/, "")
        }

        function b(e, t) {
            var i = t;
            return i = i.replace(/&\#8220;/g, '"'), i = i.replace(/&\#8221;/g, '"'), i = i.replace(/&\#8216;/g, "'"), i = i.replace(/&\#8217;/g, "'"), i = i.replace(/&\#8212;/g, "---"), i = i.replace(/&\#8211;/g, "--"), i = i.replace(/&\#8230;/g, "...")
        }

        var e = new RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|", "bdo|big|button|cite|code|del|dfn|em|figcaption|", "font|i|iframe|img|input|ins|kbd|label|map|", "mark|meter|object|param|progress|q|ruby|rp|rt|s|", "samp|script|select|small|span|strike|strong|", "sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|", "<(br)\\s?\\/?>)$"].join(""), "i");
        Array.indexOf || (Array.prototype.indexOf = function (e) {
            for (var t = 0; this.length > t; t++)
                if (this[t] == e) return t;
            return -1
        }), Markdown.Extra = function () {
            this.converter = null, this.hashBlocks = [], this.footnotes = {}, this.usedFootnotes = [], this.attributeBlocks = !1, this.googleCodePrettify = !1, this.highlightJs = !1, this.tableClass = "", this.tabWidth = 4
        }, Markdown.Extra.init = function (e, t) {
            var i = new Markdown.Extra,
                n = [],
                s = [],
                r = [],
                o = ["unHashExtraBlocks"];
            return t = t || {}, t.extensions = t.extensions || ["all"], a(t.extensions, "all") && (t.extensions = ["tables", "fenced_code_gfm", "def_list", "attr_list", "footnotes", "smartypants", "strikethrough", "newlines"]), s.push("wrapHeaders"), a(t.extensions, "attr_list") && (n.push("hashFcbAttributeBlocks"), s.push("hashHeaderAttributeBlocks"), o.push("applyAttributeBlocks"), i.attributeBlocks = !0), a(t.extensions, "fenced_code_gfm") && (s.push("fencedCodeBlocks"), n.push("fencedCodeBlocks")), a(t.extensions, "tables") && s.push("tables"), a(t.extensions, "def_list") && s.push("definitionLists"), a(t.extensions, "footnotes") && (n.push("stripFootnoteDefinitions"), s.push("doFootnotes"), o.push("printFootnotes")), a(t.extensions, "smartypants") && o.push("runSmartyPants"), a(t.extensions, "strikethrough") && r.push("strikethrough"), a(t.extensions, "newlines") && r.push("newlines"), e.hooks.chain("postNormalization", function (e) {
                return i.doTransform(n, e) + "\n"
            }), e.hooks.chain("preBlockGamut", function (e, t) {
                return i.blockGamutHookCallback = t, e = u(e), e = i.doTransform(s, e) + "\n", e = p(e)
            }), e.hooks.chain("postSpanGamut", function (e) {
                return i.doTransform(r, e)
            }), i.previousPostConversion = e.hooks.postConversion, e.hooks.chain("postConversion", function (e) {
                return e = i.doTransform(o, e), i.hashBlocks = [], i.footnotes = {}, i.usedFootnotes = [], e
            }), "highlighter" in t && (i.googleCodePrettify = "prettify" === t.highlighter, i.highlightJs = "highlight" === t.highlighter), "table_class" in t && (i.tableClass = t.table_class), i.converter = e, i
        }, Markdown.Extra.prototype.doTransform = function (e, t) {
            for (var i = 0; e.length > i; i++) t = this[e[i]](t);
            return t
        }, Markdown.Extra.prototype.hashExtraBlock = function (e) {
            return "\n<p>~X" + (this.hashBlocks.push(e) - 1) + "X</p>\n"
        }, Markdown.Extra.prototype.hashExtraInline = function (e) {
            return "~X" + (this.hashBlocks.push(e) - 1) + "X"
        }, Markdown.Extra.prototype.unHashExtraBlocks = function (e) {
            function i() {
                var n = !1;
                e = e.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g, function (e, i) {
                    n = !0;
                    var a = parseInt(i, 10);
                    return t.hashBlocks[a]
                }), n === !0 && i()
            }

            var t = this;
            return i(), e
        }, Markdown.Extra.prototype.wrapHeaders = function (e) {
            function t(e) {
                return "\n" + e + "\n"
            }

            return e = e.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm, t), e = e.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm, t), e = e.replace(/^\#{1,6}[ \t]*.+?[ \t]*\#*\n+/gm, t)
        };
        var m = "\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}",
            _ = new RegExp("^(#{1,6}.*#{0,6})[ \\t]+" + m + "[ \\t]*(?:\\n|0x03)", "gm"),
            g = new RegExp("^(.*)[ \\t]+" + m + "[ \\t]*\\n" + "(?=[\\-|=]+\\s*(?:\\n|0x03))", "gm"),
            v = new RegExp("^(```[ \\t]*[^{\\s]*)[ \\t]+" + m + "[ \\t]*\\n" + "(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))", "gm");
        Markdown.Extra.prototype.hashHeaderAttributeBlocks = function (e) {
            function i(e, i, n) {
                return "<p>~XX" + (t.hashBlocks.push(n) - 1) + "XX</p>\n" + i + "\n"
            }

            var t = this;
            return e = e.replace(_, i), e = e.replace(g, i)
        }, Markdown.Extra.prototype.hashFcbAttributeBlocks = function (e) {
            function i(e, i, n) {
                return "<p>~XX" + (t.hashBlocks.push(n) - 1) + "XX</p>\n" + i + "\n"
            }

            var t = this;
            return e.replace(v, i)
        }, Markdown.Extra.prototype.applyAttributeBlocks = function (e) {
            var t = this,
                i = new RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))', "gm");
            return e = e.replace(i, function (e, i, n, a, s) {
                if (!n) return "";
                for (var o = parseInt(i, 10), l = t.hashBlocks[o], c = l.match(/#[^\s#.]+/g) || [], d = c[0] ? ' id="' + c[0].substr(1, c[0].length - 1) + '"' : "", u = l.match(/\.[^\s#.]+/g) || [], p = 0; u.length > p; p++) u[p] = u[p].substr(1, u[p].length - 1);
                var f = "";
                return a && (u = r(u, [a])), u.length > 0 && (f = ' class="' + u.join(" ") + '"'), "<" + n + d + f + s
            })
        }, Markdown.Extra.prototype.tables = function (e) {
            function s(e, n, a, s) {
                n = n.replace(/^ *[|]/m, ""), a = a.replace(/^ *[|]/m, ""), s = s.replace(/^ *[|]/gm, ""), n = n.replace(/[|] *$/m, ""), a = a.replace(/[|] *$/m, ""), s = s.replace(/[|] *$/gm, ""), alignspecs = a.split(/ *[|] */), align = [];
                for (var l = 0; alignspecs.length > l; l++) {
                    var d = alignspecs[l];
                    align[l] = d.match(/^ *-+: *$/m) ? ' align="right"' : d.match(/^ *:-+: *$/m) ? ' align="center"' : d.match(/^ *:-+ *$/m) ? ' align="left"' : ""
                }
                var u = n.split(/ *[|] */),
                    p = u.length,
                    f = i.tableClass ? ' class="' + i.tableClass + '"' : "",
                    h = ["<table", f, ">\n", "<thead>\n", "<tr>\n"].join("");
                for (l = 0; p > l; l++) {
                    var m = c(t(u[l]), i);
                    h += ["  <th", align[l], ">", m, "</th>\n"].join("")
                }
                h += "</tr>\n</thead>\n";
                var _ = s.split("\n");
                for (l = 0; _.length > l; l++)
                    if (!_[l].match(/^\s*$/)) {
                        for (var g = _[l].split(/ *[|] */), v = p - g.length, b = 0; v > b; b++) g.push("");
                        for (h += "<tr>\n", b = 0; p > b; b++) {
                            var y = c(t(g[b]), i);
                            h += ["  <td", align[b], ">", y, "</td>\n"].join("")
                        }
                        h += "</tr>\n"
                    }
                return h += "</table>\n", i.hashExtraBlock(h)
            }

            var i = this,
                n = new RegExp(["^", "[ ]{0,3}", "[|]", "(.+)\\n", "[ ]{0,3}", "[|]([ ]*[-:]+[-| :]*)\\n", "(", "(?:[ ]*[|].*\\n?)*", ")", "(?:\\n|$)"].join(""), "gm"),
                a = new RegExp(["^", "[ ]{0,3}", "(\\S.*[|].*)\\n", "[ ]{0,3}", "([-:]+[ ]*[|][-| :]*)\\n", "(", "(?:.*[|].*\\n?)*", ")", "(?:\\n|$)"].join(""), "gm");
            return e = e.replace(n, s), e = e.replace(a, s)
        }, Markdown.Extra.prototype.stripFootnoteDefinitions = function (e) {
            var t = this;
            return e = e.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g, function (e, i, n) {
                return i = h(i), n += "\n", n = n.replace(/^[ ]{0,3}/g, ""), t.footnotes[i] = n, "\n"
            })
        }, Markdown.Extra.prototype.doFootnotes = function (e) {
            var t = this;
            if (t.isConvertingFootnote === !0) return e;
            var i = 0;
            return e = e.replace(/\[\^(.+?)\]/g, function (e, n) {
                var a = h(n),
                    s = t.footnotes[a];
                if (void 0 === s) return e;
                i++, t.usedFootnotes.push(a);
                var r = '<a href="#fn:' + a + '" id="fnref:' + a + '" title="See footnote" class="footnote">' + i + "</a>";
                return t.hashExtraInline(r)
            })
        }, Markdown.Extra.prototype.printFootnotes = function (e) {
            var t = this;
            if (0 === t.usedFootnotes.length) return e;
            e += '\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';
            for (var i = 0; t.usedFootnotes.length > i; i++) {
                var n = t.usedFootnotes[i],
                    a = t.footnotes[n];
                t.isConvertingFootnote = !0;
                var s = c(a, t);
                delete t.isConvertingFootnote, e += '<li id="fn:' + n + '">' + s + ' <a href="#fnref:' + n + '" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'
            }
            return e += "</ol>\n</div>"
        }, Markdown.Extra.prototype.fencedCodeBlocks = function (e) {
            function t(e) {
                return e = e.replace(/&/g, "&amp;"), e = e.replace(/</g, "&lt;"), e = e.replace(/>/g, "&gt;"), e = e.replace(/~D/g, "$$"), e = e.replace(/~T/g, "~")
            }

            var i = this;
            return e = e.replace(/(?:^|\n)```[ \t]*(\S*)[ \t]*\n([\s\S]*?)\n```[ \t]*(?=\n)/g, function (e, n, a) {
                var s = n,
                    r = a,
                    o = i.googleCodePrettify ? ' class="prettyprint"' : "",
                    l = "";
                s && (l = i.googleCodePrettify || i.highlightJs ? ' class="language-' + s + '"' : ' class="' + s + '"');
                var c = ["<pre", o, "><code", l, ">", t(r), "</code></pre>"].join("");
                return i.hashExtraBlock(c)
            })
        }, Markdown.Extra.prototype.educatePants = function (e) {
            var t = this,
                i = "",
                n = 0;
            e.replace(/(?:<!--[\s\S]*?-->)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g, function (a, s, r, o, l, c, d) {
                var u = e.substring(n, d);
                return i += t.applyPants(u), t.smartyPantsLastChar = i.substring(i.length - 1), n = d + a.length, s ? (/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(r) ? t.smartyPantsLastChar = l.substring(l.length - 1) : l = t.educatePants(l), i += s + r + o + l + c, void 0) : (i += a, void 0)
            });
            var a = e.substring(n);
            return i += t.applyPants(a), t.smartyPantsLastChar = i.substring(i.length - 1), i
        }, Markdown.Extra.prototype.applyPants = function (e) {
            return e = e.replace(/---/g, "&#8212;").replace(/--/g, "&#8211;"), e = e.replace(/\.\.\./g, "&#8230;").replace(/\.\s\.\s\./g, "&#8230;"), e = e.replace(/``/g, "&#8220;").replace(/''/g, "&#8221;"), /^'$/.test(e) ? /\S/.test(this.smartyPantsLastChar) ? "&#8217;" : "&#8216;" : /^"$/.test(e) ? /\S/.test(this.smartyPantsLastChar) ? "&#8221;" : "&#8220;" : (e = e.replace(/^'(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/, "&#8217;"), e = e.replace(/^"(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/, "&#8221;"), e = e.replace(/"'(?=\w)/g, "&#8220;&#8216;"), e = e.replace(/'"(?=\w)/g, "&#8216;&#8220;"), e = e.replace(/'(?=\d{2}s)/g, "&#8217;"), e = e.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)'(?=\w)/g, "$1&#8216;"), e = e.replace(/([^\s\[\{\(\-])'/g, "$1&#8217;"), e = e.replace(/'(?=\s|s\b)/g, "&#8217;"), e = e.replace(/'/g, "&#8216;"), e = e.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)"(?=\w)/g, "$1&#8220;"), e = e.replace(/([^\s\[\{\(\-])"/g, "$1&#8221;"), e = e.replace(/"(?=\s)/g, "&#8221;"), e = e.replace(/"/gi, "&#8220;"))
        }, Markdown.Extra.prototype.runSmartyPants = function (e) {
            return this.smartyPantsLastChar = "", e = this.educatePants(e), e = e.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g, b)
        }, Markdown.Extra.prototype.definitionLists = function (e) {
            var i = new RegExp(["(\\x02\\n?|\\n\\n)", "(?:", "(", "(", "[ ]{0,3}", "((?:[ \\t]*\\S.*\\n)+)", "\\n?", "[ ]{0,3}:[ ]+", ")", "([\\s\\S]+?)", "(", "(?=\\0x03)", "|", "(?=", "\\n{2,}", "(?=\\S)", "(?!", "[ ]{0,3}", "(?:\\S.*\\n)+?", "\\n?", "[ ]{0,3}:[ ]+", ")", "(?!", "[ ]{0,3}:[ ]+", ")", ")", ")", ")", ")"].join(""), "gm"),
                n = this;
            return e = o(e), e = e.replace(i, function (e, i, a) {
                var s = t(n.processDefListItems(a));
                return s = "<dl>\n" + s + "\n</dl>", i + n.hashExtraBlock(s) + "\n\n"
            }), l(e)
        }, Markdown.Extra.prototype.processDefListItems = function (e) {
            var a = this,
                s = new RegExp(["(\\x02\\n?|\\n\\n+)", "(", "[ ]{0,3}", "(?![:][ ]|[ ])", "(?:\\S.*\\n)+?", ")", "(?=\\n?[ ]{0,3}:[ ])"].join(""), "gm"),
                r = new RegExp(["\\n(\\n+)?", "(", "[ ]{0,3}", "[:][ ]+", ")", "([\\s\\S]+?)", "(?=\\n*", "(?:", "\\n[ ]{0,3}[:][ ]|", "<dt>|\\x03", ")", ")"].join(""), "gm");
            return e = o(e), e = e.replace(/\n{2,}(?=\\x03)/, "\n"), e = e.replace(s, function (e, i, n) {
                for (var s = t(n).split("\n"), r = "", o = 0; s.length > o; o++) {
                    var l = s[o];
                    l = c(t(l), a), r += "\n<dt>" + l + "</dt>"
                }
                return r + "\n"
            }), e = e.replace(r, function (e, t, s, r) {
                return t || r.match(/\n{2,}/) ? (r = Array(s.length + 1).join(" ") + r, r = n(r) + "\n\n", r = "\n" + d(r, a) + "\n") : (r = i(r), r = c(n(r), a)), "\n<dd>" + r + "</dd>\n"
            }), l(e)
        }, Markdown.Extra.prototype.strikethrough = function (e) {
            return e.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g, "$1<del>$2</del>$3")
        }, Markdown.Extra.prototype.newlines = function (e) {
            return e.replace(/(<(?:br|\/li)>)?\n/g, function (e, t) {
                return t ? e : " <br>\n"
            })
        }
    }();
