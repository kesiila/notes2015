<div class="height-noheader mailbox-click-other-donot-hide" wt-stop-propagation="click">
    <div class="mod_navbar center-block">
        <div class="title">
            <h3>
                <i class="icon-pencil-square-o mr_10"></i>神笔哆哆
            </h3>
        </div>
        <div class="main lh-40">
            <div class="center-block" style="width: 1140px">
                <ul class="tabs">
                    <li>
                        <a ng-class="{true:'active'}[newGenerator.forWho=='forMe']"
                           href="javascript:;" ng-click="newGenerator.changeTab('forMe')">定制我的模板</a>
                    </li>
                    <li>
                        <a ng-class="{true:'active'}[newGenerator.forWho=='forCustomer']"
                           href="javascript:;" ng-click="newGenerator.changeTab('forCustomer')">针对活动定制</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div>
        <dl style="width: 1200px;margin-left:auto;margin-right: auto;">
            <dd style="padding: 0px">
                <div class="rightpanel-wrapper">
                    <div class="template-generator-wrapper-new">
                        <div class="template-generator">

        <div class="container pos_relative"
             ng-class="{true:'generator-fold',false:'generator-unfold'}[newGenerator.fold_or_not==true]">
        <div class="left-side box-shadow pos_relative" ng-show="newGenerator.forWho=='forMe'">
            <div class="alert alert-warning text-center"
                     style="padding: 10px;margin-bottom: 17px;"
                     wt-toggle-delay="!newGenerator.fold_or_not==true" delay="750">
                    <span>输入你的信息，哆哆神笔自动为你写开发信</span>&nbsp;
                </div>
                <ul>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            公司名称
                        </label> <input class="form-control" type="text" ng-model="variables.company_name"
                                        placeholder="Shanghai Hinic Textile Machinery Co., Ltd."/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            公司产品
                        </label> <input class="form-control" type="text" ng-model="variables.company_products"
                                        placeholder="Textile Machinery, Sewing Machinery，Rapier Weaving Machine"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            成立时间
                        </label> <input class="form-control" type="text" ng-model="variables.create_time"
                                        placeholder="2001.12.5"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            现有活动
                        </label> <input class="form-control" type="text" ng-model="variables.customer_now"
                                        placeholder="Premier Textiles, iXPOS"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            产品认证
                        </label> <input class="form-control" type="text" ng-model="variables.product_certification"
                                        placeholder="CE, GMC"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            质量体系
                        </label> <input class="form-control" type="text" ng-model="variables.QS"
                                        placeholder="ISO9001:2000"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            验厂证书
                        </label> <input class="form-control" type="text" ng-model="variables.inspection_certificate"
                                        placeholder="SGS，WRAP Gold"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            生产能力
                        </label> <input class="form-control" type="text" ng-model="variables.prodcutivePower"
                                        placeholder="100MT/Year"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li ng-show="false">
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            <strong>针对活动类型</strong>
                        </label>

                        <div class="multi-check">
                            <input type="checkbox"/> <span><strong>价格敏感型</strong></span>
                            <input type="checkbox"/> <span><strong>注重质量型</strong></span>
                            <input type="checkbox"/> <span><strong>注重款式型</strong></span>
                        </div>
                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li class="clearfix" wt-toggle-delay="!newGenerator.fold_or_not==true" delay="750">
                        <button class="btn pull-right btn-success"
                                ng-disabled="!variables.company_name||!variables.company_products"
                                loading-status="newGenerator.company_info_is_save_ing" data-loading-text="保存中..."
                                ng-click="newGenerator.save_company_info()">保存设置
                        </button>
                    </li>
                </ul>
                <div class="generator-trigger pos_absolute cursor text-muted"
                     ng-click="newGenerator.toggle_generator()">
                    <i ng-class="{true:'icon-angle-right',false:'icon-angle-left'}[newGenerator.fold_or_not==true]"></i>
                </div>
                <div class="clear" style="clear:both"></div>
            </div>
        <div class="left-side box-shadow pos_relative" ng-show="newGenerator.forWho=='forCustomer'">
            <div class="alert alert-warning text-center"
                 style="padding: 10px;margin-bottom: 17px;"
                 wt-toggle-delay="!newGenerator.fold_or_not==true" delay="750">
                <span>输入你的信息，哆哆神笔自动为你写开发信</span>&nbsp;
            </div>
            <form name="add_customer_form"
                  wt-form-validate="{blurTrig:false,showMsg:false}"
                  novalidate
                  role="form">
                <ul>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            活动公司
                        </label> <input class="form-control" name="customer_company" type="text"
                                        ng-model="customer_variables.company_name"
                                        placeholder="IBM." required="" ng-maxlength="50"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            联系人
                        </label> <input class="form-control" type="text" name="customer_name"
                                        ng-model="customer_variables.contact_name"
                                        placeholder="示例:Barack Hussein Obama" required ng-maxlength="30"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            邮箱
                        </label> <input class="form-control" name="customer.email" type="email"
                                        ng-model="customer_variables.email"
                                        required wt-regex="\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*"
                                        placeholder="示例:xxx@xxxx.com"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            产品
                        </label> <input class="form-control" type="text" ng-model="customer_variables.products"
                                        placeholder="示例: guided missile"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            类型/暂缺
                        </label> <input class="form-control" type="text" ng-model="customer_variables.type"
                                        placeholder="type,type"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            特色/暂缺
                        </label> <input class="form-control" type="text" ng-model="customer_variables.feature"
                                        placeholder="dominance feature"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li>
                        <label class="control-label p_0"><i class="mr_5 ai-gray"></i>
                            国家
                        </label> <input class="form-control" type="text" ng-model="customer_variables.country"
                                        placeholder="USA"/>

                        <div class="clear" style="clear:both"></div>
                    </li>
                    <li class="clearfix" wt-toggle-delay="!newGenerator.fold_or_not==true" delay="750">
                        <button class="btn pull-right btn-success"
                                ng-disabled="!customer_variables.company_name||!customer_variables.contact_name||!customer_variables.email"
                                loading-status="newGenerator.company_info_is_save_ing" data-loading-text="保存中..."
                                wt-form-submit="newGenerator.save_customer_info(add_customer_form)">保存活动
                        </button>
                    </li>
                </ul>
                <div class="form-group" ng-show="add_customer_form.$errors.length > 0">
                    <div class="alert alert-danger">
                        <i class="icon-remove-sign mr_5"></i> {{add_customer_form.$errors[0]}}
                    </div>
                </div>
            </form>
            <div class="generator-trigger pos_absolute cursor text-muted"
                 ng-click="newGenerator.toggle_generator()">
                <i ng-class="{true:'icon-angle-right',false:'icon-angle-left'}[newGenerator.fold_or_not==true]"></i>
            </div>
            <div class="clear" style="clear:both"></div>
        </div>
        <div class="right-side box-shadow" style="height: auto"
                 ng-class="{true:'generator-edit-preview'}[newGenerator.edit_or_preview =='edit']">
                <div class="wne-title"><input type="text" class="wne-title-input" placeholder="邮件标题" ng-model="title"
                                              tabindex="1" ng-show="newGenerator.edit_or_preview =='edit'"
                                              required wtAutofocus>

                    <div class="wne-title-input" style="min-height: 41px"
                         ng-hide="newGenerator.edit_or_preview =='edit'">{{ title }}
                    </div>
                    <div class="title-seperator-line"></div>
                </div>
                <div class="edit-box">
                    <div class="wne-toolbar  edit-box-hover-show js-popbox" role="toolbar">
                        <button class="btn btn-warning pos_absolute fs_16"
                                style="left: -75px;margin-top:-5px;padding:10px 15px;vertical-align: middle"
                                ng-click="newGenerator.generate()" ng-show="newGenerator.edit_or_preview =='edit'">
                            <i class="icon-refresh fs_16 mr_5"></i>变
                        </button>
                    </div>
                    <textarea name="" id="" ng-model="content" tabindex="2"
                              placeholder="正文"
                              class="wnd-content-textarea"></textarea></div>
                <div class="html-box">
                    <div class="wne-toolbar  edit-box-hover-show js-popbox" role="toolbar">
                        <button class="btn btn-warning pos_absolute fs_16"
                                style="left: -75px;margin-top:-5px;padding:10px 15px;vertical-align: middle"
                                ng-click="newGenerator.generate()" ng-show="newGenerator.edit_or_preview =='preview'">
                        <i class="icon-refresh fs_16 mr_5"></i>变
                        </button>
                    </div>
                    <div class="result markdown" ng-bind-html-unsafe="html"></div>
                </div>
                <div class="right-side-footer">
                    <button class="btn btn-success pull-right mlr_5" data-loading-text="保存中..."
                            ng-disabled="!content" ng-show="newGenerator.forWho=='forMe'"
                            loading-status="is_save_ing" ng-click="newGenerator.show_save_template()">保存模板
                    </button>
                    <button class="btn btn-success pull-right mlr_5" data-loading-text="保存中..."
                            ng-disabled="!content||!title" ng-show="newGenerator.forWho=='forCustomer'"
                            loading-status="is_save_ing"
                            wt-form-submit="newGenerator.show_save_and_send_mail(add_customer_form)">保存并发送
                    </button>
                    <button class="btn btn-default pull-right mlr_5" ng-click="newGenerator.toggle_edit()">
                        <span ng-hide="newGenerator.edit_or_preview =='edit'">编辑</span>
                        <span ng-show="newGenerator.edit_or_preview =='edit'">完成编辑</span>
                    </button>
                    <div class="clear" style="clear:both"></div>
                </div>
                <div class="clear" style="clear:both"></div>
            </div>
        </div>
                        </div>
                    </div>
                </div>
            </dd>
        </dl>
    </div>
</div>